<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OOBJECTIF R1P â€¢ Luxe Ultime 2026</title>
    <link rel="icon" href="data:,"> <!-- Fix favicon 404 -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        :root {
            --primary: #F7931E;
            --gold: #fbbf24;
            --darkblue: #1e3a8a;
            --dark: #0a0f1c;
            --glass: rgba(15,23,42,0.98);
            --glow: 0 0 130px rgba(251,191,36,0.65);
        }
        * { margin:0; padding:0; box-sizing:border-box; }
        body {
            font-family: 'Inter', system-ui, sans-serif;
            background: var(--dark);
            color: #f8fafc;
            height: 100vh;
            overflow: hidden;
            font-size: 14.6px;
        }
        canvas#bg { position:fixed; inset:0; z-index:1; pointer-events:none; }
        canvas#confetti { position:fixed; inset:0; z-index:9999; pointer-events:none; }

        .container {
            position:relative; z-index:10;
            height:100vh;
            display:grid;
            grid-template-rows:auto 1fr auto;
            max-width:1220px;
            margin:0 auto;
            padding:1rem 1.8rem 0.8rem;
        }

        .logo {
            font-size: clamp(1.95rem, 4.3vw, 3.6rem);
            font-weight: 900;
            letter-spacing: -4.5px;
            line-height: 0.82;
            display: inline-flex;
            align-items: center;
            gap: 11px;
            animation: logoPulse 10s ease-in-out infinite;
        }
        .logo .oob { color: var(--darkblue); font-size: 1.19em; }
        .logo .jectif {
            font-size: 0.79em;
            background: linear-gradient(90deg, var(--gold), #facc15);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 700;
        }
        .logo .r1p {
            font-size: 0.67em;
            color: var(--primary);
            background: linear-gradient(var(--primary), #ea580c);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            padding: 3px 17px 5px;
            border-radius: 9999px;
            border: 1px solid rgba(247,147,30,0.5);
            font-weight: 800;
        }
        @keyframes logoPulse { 0%,100% { filter: brightness(1); } 50% { filter: brightness(1.4) hue-rotate(12deg); } }

        .tagline {
            font-size: clamp(1.1rem, 2vw, 1.3rem);
            opacity: 0.94;
            letter-spacing: 2px;
            font-weight: 500;
            margin-top: -6px;
        }

        main {
            display: grid;
            grid-template-columns: 290px 1fr 290px;
            gap: 1.5rem;
            height: calc(100vh - 158px);
        }
        @media (max-width: 1240px) { main { grid-template-columns: 1fr; height: auto; overflow-y: auto; } }

        .glass {
            background: var(--glass);
            backdrop-filter: blur(58px);
            border: 1px solid rgba(251,191,36,0.45);
            border-radius: 28px;
            box-shadow: 0 38px 88px -24px rgb(0 0 0 / 0.9);
        }

        #r1p-btn {
            background: linear-gradient(145deg, #ffffff, var(--primary));
            color: #0a0f1c;
            font-size: 1.42rem;
            font-weight: 900;
            padding: 18px 36px;
            border-radius: 9999px;
            border: none;
            cursor: pointer;
            box-shadow: 0 0 70px 18px rgba(247,147,30,0.7);
            transition: all .28s cubic-bezier(0.175,0.885,0.32,1.85);
        }
        #r1p-btn:hover { transform: scale(1.08); box-shadow: 0 0 90px 25px rgba(247,147,30,0.85); }
        #r1p-btn:active { transform: scale(0.94); }

        .feed { flex: 1; overflow-y: auto; scrollbar-width: none; }
        .feed-item {
            padding: 10px 15px;
            margin-bottom: 8px;
            background: rgba(255,255,255,0.04);
            border-radius: 17px;
            display: flex;
            justify-content: space-between;
            font-size: 0.97rem;
        }
    </style>
</head>
<body>
    <canvas id="bg"></canvas>
    <canvas id="confetti"></canvas>

    <!-- LOGIN MODAL -->
    <div id="login-modal" style="position:fixed;inset:0;background:rgba(10,15,28,0.98);z-index:99999;display:flex;align-items:center;justify-content:center;">
        <div style="background:var(--glass);padding:2.6rem 2.2rem;border-radius:28px;width:100%;max-width:350px;text-align:center;border:1px solid var(--primary);">
            <h2 style="font-size:2.15rem;margin-bottom:1rem;">Bienvenue dans lâ€™univers OOBJECTIF R1P</h2>
            <p style="margin-bottom:1.4rem;opacity:0.93;">Entre ton prÃ©nom :</p>
            <input id="prenom-input" type="text" placeholder="Kevin â€¢ Sofia â€¢ Merwan..." style="width:100%;padding:15px;border-radius:18px;border:none;background:rgba(255,255,255,0.07);color:white;font-size:1.26rem;text-align:center;">
            <button onclick="validatePrenom(Sofia;Merwan;Kevin;David;Durmus;Diassivi;Sertag;Roxanne;Serhat)" style="margin-top:1.4rem;padding:13px 48px;background:var(--primary);color:#0a0f1c;border:none;border-radius:9999px;font-weight:900;font-size:1.18rem;cursor:pointer;width:100%;">COMMENCER Lâ€™AVENTURE</button>
            <p id="login-error" style="color:#ef4444;margin-top:1rem;min-height:24px;"></p>
        </div>
    </div>

    <div class="container" id="main-app" style="display:none;">
        <header>
            <h1 class="logo">
                <span class="oob">OOB</span><span class="jectif">jectif</span><span class="r1p">R1P</span>
            </h1>
            <p class="tagline">Chaque prise est une nouvelle aventure qui commence !</p>
        </header>

        <main>
            <!-- LEFT -->
            <div class="glass user-card" style="padding:2rem 1.8rem;">
                <div id="avatar" style="width:122px;height:122px;margin:0 auto 1rem;border-radius:50%;background:linear-gradient(135deg,var(--primary),var(--gold));font-size:4.2rem;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 16px rgba(247,147,30,0.32);">ðŸ”¥</div>
                <h2 id="user-name" style="font-size:2.28rem;margin-bottom:4px;">â€”</h2>
                <p id="user-team" style="font-size:1.32rem;color:var(--gold);font-weight:700;">Ã‰quipe â€¢ â€”</p>

                <div style="margin:1.5rem 0 1.1rem;background:rgba(251,191,36,0.1);padding:8px 30px;border-radius:9999px;font-size:1.2rem;">
                    ðŸ”¥ Streak <span id="streak" style="color:var(--gold);font-weight:900;">0</span> jours
                </div>

                <div class="progress-container">
                    <div class="progress-label"><span>Session (4 min)</span><span id="session-goal">0/4</span></div>
                    <div class="progress-bar"><div id="session-fill" class="progress-fill" style="width:0%"></div></div>
                    <div class="progress-label" style="margin-top:11px;"><span>Semaine (8 min)</span><span id="week-goal">0/8</span></div>
                    <div class="progress-bar"><div id="week-fill" class="progress-fill" style="width:

